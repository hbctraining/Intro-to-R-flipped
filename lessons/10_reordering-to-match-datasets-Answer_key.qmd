---
title: "Using the match() Function Answer Key"
author:
  - Will Gammerdinger
date: "2025-12-07"
---

```{r}
#| label: load_data
#| echo: false
# Read in metadata
metadata <- read.csv("data/mouse_exp_design.csv")
# Read in rpkm_ordered
rpkm_ordered  <- read.csv("data/ordered_counts_rpkm.csv",
                          header=T, row.names=1)
```

# Exercise 1

Now that we know how to reorder using indices, let's try to use it to reorder the contents of one vector to match the contents of another. Let's create the vectors `first` and `second` as detailed below:

![](../img/match1.png)

```{r}
#| label: reorder_second
# Create new second vector in a different order
first <- c("A","B","C","D","E")
second <- c("B","D","E","A","C")
```

1. How would you reorder the `second` vector to match `first`?

```{r}
#| label: reordering_second_manual
# Reordering second vector to match the first vector
second[c(4, 1, 5, 2, 3)]
```

# Exercise 2

1. After talking with your collaborator, it becomes clear that `sample2` and `sample9` were actually from a different mouse background than the other samples and should not be part of our analysis. Create a new variable called `subset_rpkm` that has these columns removed from the `rpkm_ordered` data frame.

```{r}
#| label: remove_samples_2_9
# Remove samples 2 and 9
subset_rpkm <- rpkm_ordered[ , c(1,3:8,10:12)]
```

Alternatively, you could use:

```{r}
#| label: remove_samples_2_9_alternative
#| eval: false
# Remove samples 2 and 9 alternative
subset_rpkm <- rpkm_ordered[ , -c(2,9)]
```

2. Use the `match()` function to subset the `metadata` data frame so that the row names of the `metadata` data frame match the column names of the `subset_rpkm` data frame.

```{r}
#| label: use_match
# Use match to reorder metadata
idx <- match(colnames(subset_rpkm), rownames(metadata))
metadata[idx, ]
```